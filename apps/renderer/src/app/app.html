<mat-sidenav-container
  class="shell-container"
  [hasBackdrop]="mobileViewport()"
  (backdropClick)="closeNavForMobile()"
>
  <mat-sidenav
    class="shell-sidenav"
    [mode]="mobileViewport() ? 'over' : 'side'"
    [opened]="navOpen()"
  >
    <div class="sidenav-brand">
      <mat-icon aria-hidden="true">developer_board</mat-icon>
      <span>{{ title }}</span>
    </div>
    <mat-nav-list (click)="handleNavListClick($event)">
      @for (item of visibleNavLinks(); track item.path) {
      <a
        mat-list-item
        [routerLink]="item.path"
        routerLinkActive="active-link"
        [routerLinkActiveOptions]="{ exact: item.exact === true }"
      >
        <mat-icon matListItemIcon aria-hidden="true">{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
      </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar class="shell-toolbar" role="banner">
      <button
        mat-icon-button
        type="button"
        class="menu-toggle"
        aria-label="Toggle navigation menu"
        (click)="toggleNav()"
      >
        <mat-icon aria-hidden="true">menu</mat-icon>
      </button>
      <span class="shell-title">{{ title }}</span>
      <button
        mat-stroked-button
        type="button"
        class="labs-toggle"
        (click)="toggleLabsMode()"
      >
        Labs Mode: {{ labsMode() ? 'On' : 'Off' }}
      </button>
    </mat-toolbar>

    <main class="shell-main" role="main">
      <router-outlet />
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
